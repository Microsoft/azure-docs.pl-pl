---
title: Ocena luk w zabezpieczeniach programu SQL dla SQL Server na maszynach wirtualnych platformy Azure
description: Zawiera opis oceny luk w zabezpieczeniach programu SQL dla SQL Server baz danych uruchomionych w usłudze Azure Virtual Machines.
services: virtual-machines-windows
author: MashaMSFT
ms.service: virtual-machines-sql
ms.subservice: security
ms.topic: conceptual
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 12/02/2020
ms.author: mathoma
ms.openlocfilehash: 0f549d19915caa2e4f58ba1987b63c3ed930d1f9
ms.sourcegitcommit: f0a3ee8ff77ee89f83b69bc30cb87caa80f1e724
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/26/2021
ms.locfileid: "105565490"
---
# <a name="sql-vulnerability-assessment-for-sql-server-on-azure-vms"></a>Ocena luk w zabezpieczeniach programu SQL dla SQL Server na maszynach wirtualnych platformy Azure
[!INCLUDE[appliesto-sqlvm](../../includes/appliesto-sqlvm.md)]

Ocena luk w zabezpieczeniach SQL (VA) to prosta w konfiguracji usługa, która umożliwia odnajdywanie, śledzenie i rozwiązywanie problemów z potencjalnymi lukami w zabezpieczeniach bazy danych. Umożliwia ona proaktywne ulepszanie zabezpieczeń bazy danych SQL Server na maszynach wirtualnych platformy Azure. 

Ocena luk w zabezpieczeniach jest częścią [usługi Azure Defender dla oferty SQL](../../database/azure-defender-for-sql.md) , która jest ujednoliconym pakietem zaawansowanych funkcji zabezpieczeń SQL. Dostęp do oceny luk w zabezpieczeniach można uzyskać i zarządzać nimi za pośrednictwem centralnej usługi Azure Defender dla programu SQL Portal lub za pośrednictwem Azure Security Center. 

## <a name="overview"></a>Omówienie

Ocena luk w zabezpieczeniach SQL (VA) to usługa, która zapewnia wgląd w stan zabezpieczeń. Ocena luk w zabezpieczeniach obejmuje kroki umożliwiające rozwiązywanie problemów z zabezpieczeniami i zwiększanie bezpieczeństwa bazy danych. Może Ci pomóc: 

- Spełniaj wymagania dotyczące zgodności, które wymagają raportów skanowania bazy danych. 
- Poznaj standardy prywatności danych. 
- Monitoruj dynamiczne środowisko bazy danych, w którym zmiany są trudne do śledzenia. 

Ocena luk w zabezpieczeniach to usługa skanowania, która korzysta z bazy wiedzy o regułach, które flagą luki w zabezpieczeniach. Wyróżniają one odchylenia od najlepszych rozwiązań, takich jak niepoplikne konfiguracje, nadmierne uprawnienia i niechronione dane poufne. 

Zasady są oparte na najlepszych rozwiązaniach firmy Microsoft i koncentrują się na problemach z bezpieczeństwem, które stanowią największe ryzyko dla bazy danych i jej cennych danych. Obejmują one problemy na poziomie bazy danych i problemy z zabezpieczeniami na poziomie serwera, takie jak ustawienia zapory serwera i uprawnienia na poziomie serwera. Te reguły reprezentują także wiele wymagań z różnych organów regulacyjnych w celu spełnienia ich standardów zgodności. 

Wyniki skanowania obejmują kroki umożliwiające rozwiązanie problemu i zapewniają dostosowane skrypty korygowania, jeśli ma to zastosowanie. Możesz dostosować raport oceny dla swojego środowiska, ustawiając akceptowalną linię bazową dla: 

- Konfiguracje uprawnień 
- Konfiguracje funkcji 
- Ustawienia bazy danych 

## <a name="enable-sql-va"></a>Włącz SQL VA

Włącz usługę Azure Defender dla serwerów SQL na maszynach w celu zaimplementowania oceny luk w zabezpieczeniach. 

Aby użyć usługi Azure Defender do SQL Server, wykonaj następujące kroki:

1. [Zainstaluj rozszerzenie programu SQL IaaS Agent](sql-agent-extension-manually-register-single-vm.md).
1. [Włącz funkcję autoaprowizacji agenta log Analytics](../../../security-center/security-center-enable-data-collection.md#auto-provision-mma).
1. [Włącz opcjonalny plan Security Center](../../../security-center/defender-for-sql-usage.md#step-2-enable-the-optional-plan-in-security-centers-pricing-and-settings-page).

Ponieważ Ocena luk w zabezpieczeniach jest częścią usługi Azure Defender dla programu SQL, po włączeniu usługi Azure Defender na maszynie wirtualnej bazy danych są automatycznie skanowane co 12 godzin, aby zidentyfikować luki w zabezpieczeniach. Wyniki są wysyłane do Azure Security Center, aby uzyskać scentralizowany Zagregowany widok danych SQL chronionych przez usługę Azure Defender dla języka SQL. 

> [!NOTE]
> Skanowanie jest lekkie i bezpieczne, co zajmuje tylko kilka sekund na bazę danych i jest tylko do odczytu. Nie wprowadza żadnych zmian w bazie danych. 

## <a name="view-report"></a>Wyświetlanie raportu

Raport bazy danych przedstawia przegląd stanu zabezpieczeń. Zawiera listę, jak wiele problemów zostało znalezionych i ich odpowiednich serwerów. Wyniki obejmują ostrzeżenia dotyczące odchyleń od najlepszych rozwiązań i migawki ustawień związanych z zabezpieczeniami, takich jak podmioty zabezpieczeń bazy danych i role i powiązane z nimi uprawnienia.  

Aby wyświetlić raport, wykonaj następujące kroki:

1. Przejdź do [Azure Security Center](https://ms.portal.azure.com/#blade/Microsoft_Azure_Security/SecurityMenuBlade/0) w Azure Portal.
1. Wybierz pozycję **zalecenia** w menu **Ogólne** : 

   :::image type="content" source="media/sql-vulnerability-assessment-enable/recommendations-in-security-center.png" alt-text="Przejdź do sekcji rekomendacje w obszarze Ustawienia w Azure Security Center z Azure Portal":::

1. Przewiń w dół do zaleceń i rozwiń pozycję **Koryguj luki w zabezpieczeniach**.
1. **Należy skorygować wyniki oceny luk w zabezpieczeniach na serwerach SQL Server na maszynach**. 

   :::image type="content" source="media/sql-vulnerability-assessment-enable/report-in-security-center.png" alt-text="Wyświetl raport w bloku rekomendacje Azure Security Center":::

Ta strona zawiera zagregowane luki w zabezpieczeniach zidentyfikowane dla wszystkich SQL Server maszyn wirtualnych w subskrypcji. 


## <a name="analyze-results"></a>Analizowanie wyników

Przejrzyj wyniki i zidentyfikuj raporty, które mają prawdziwe problemy z zabezpieczeniami w danym środowisku. Przechodzenie do szczegółów każdego wyniku nie powiodło się, aby zrozumieć wpływ wyszukiwania i dlaczego każde sprawdzenie zabezpieczeń nie powiodło się.  

:::image type="content" source="media/sql-vulnerability-assessment-enable/sample-report.png" alt-text="Przejrzyj wyniki i zidentyfikuj raporty, które mają prawdziwe problemy z zabezpieczeniami w danym środowisku.":::

## <a name="set-baseline"></a>Ustaw linię bazową 

Podczas przeglądania wyników oceny można oznaczyć wyniki jako akceptowalną linię bazową w środowisku. Linia bazowa polega głównie na dostosowywaniu sposobu zgłaszania wyników. Wyniki, które pasują do linii bazowej, są uznawane za przekazanie podczas kolejnych skanów. Po ustaleniu stanu zabezpieczeń linii bazowej oceny luk w zabezpieczeniach są raportowane wyłącznie od linii bazowej. Dzięki temu można skoncentrować się na istotnych problemach. 

:::image type="content" source="media/sql-vulnerability-assessment-enable/analyze-report-for-details.png" alt-text="Podczas przeglądania wyników oceny można oznaczyć wyniki jako akceptowalną linię bazową w środowisku.":::

## <a name="export-results"></a>Eksportowanie wyników

Użyj funkcji [eksportu ciągłego](../../../security-center/continuous-export.md) Azure Security Center, aby wyeksportować wyniki oceny luk w zabezpieczeniach do usługi Azure Event Hub lub do log Analytics obszaru roboczego. 


## <a name="next-steps"></a>Następne kroki

Aby dowiedzieć się więcej, zobacz [ocenę luk w zabezpieczeniach SQL w usłudze Azure SQL](../../database/sql-vulnerability-assessment.md)i [obronę danych SQL przy użyciu Azure Security Center](../../../security-center/security-center-introduction.md).

